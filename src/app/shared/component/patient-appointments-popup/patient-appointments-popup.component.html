<ng-template #searchPatient>
  <div class="bg-white p-3 pl-border-radius-10 book-appointment ">
      <div class="d-flex justify-content-between align-items-center">
        <h3 class="m-0 px-2">Patient Appointment List</h3>
      </div>
      <div class="form-group-wrapper">
        <div class="form-group-main d-flex pt-3 border-0">
          <div class="form-group m-0 p-0 w-100">
            <form [formGroup]="PatientForm">
                <div class="d-flex justify-content-between">
                  <div class="form-group-control w-100 m-0 mb-3 px-2 position-relative">
                    <input type="text" class="form-control" placeholder="Medical record number" formControlName="mrn" [value]="PatientForm.get('mrn').value" (input)="getSearchedPatient($event)">
                    <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Medical record number</label>
                  </div>
                  <div class="form-group-control w-100 m-0 mb-3 px-2 position-relative">
                    <input type="text" class="form-control" placeholder="Patient Full Name" formControlName="patientName" (input)="getPatient($event)" [value]="PatientForm.get('patientName').value">
                    <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Patient Full Name</label> 
                  </div>
                </div>
              <!-- <ng-container formArrayName="servicesList">
                <ng-container *ngFor="let data of this.PatientForm.get('servicesList')['controls']; let i = index"
                [formGroupName]="i">
                <div class="d-flex justify-content-between mb-3" >
                  <div class="d-flex">
                  <div class="search-patient-checkbox">
                    <input type="radio"  name="i" >
                  </div>
                  <div class="form-group-control w-100 m-0 mb-0 px-2 position-relative">
                    <input type="text" class="form-control" placeholder="Appointment Date" formControlName="visitDate">
                    <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Date</label>
                  </div>
                  <div class="form-group-control w-100 m-0 mb-0 px-2 position-relative">
                    <input type="text" class="form-control" placeholder="Appointment Time" formControlName="visitTime">
                    <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Time</label>
                  </div>
                  <div class="form-group-control w-100 m-0 mb-0 px-2 position-relative">
                      <input type="text" class="form-control" placeholder="Attending Physician"  formControlName="attendingPhysician">
                      <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Attending Physician</label>
                    </div>
                    <div class="form-group-control w-100 m-0 mb-0 px-2 position-relative">
                      <input type="text" class="form-control" placeholder="Specialty"  formControlName="speciality">
                      <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Specialty</label>
                    </div>
                    <div class="form-group-control w-100 m-0 mb-0 px-2 position-relative">
                        <input type="text" class="form-control" placeholder="Appointment Status"formControlName="appointmentStatus" >
                        <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Status</label>
                      </div>
                  </div>
              </div>
              
                </ng-container>
              </ng-container> -->
              <ng-container *ngIf="this.PatientForm.get('servicesList')['controls'] && this.PatientForm.get('servicesList')['controls'].length">
                <div class="patient-table">
                  <table>
                    <thead>
                      <tr>
                        <th>Appointment Date</th>
                        <th>Appointment Time</th>
                        <th>Attending Physician</th>
                        <th>Specialty</th>
                        <th>Appointment Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <ng-container formArrayName="servicesList">
                        <ng-container *ngFor="let data of this.PatientForm.get('servicesList')['controls']; let i = index"
                        [formGroupName]="i">
                      <tr>
                        <td>
                          <div class="form-group-control w-100 m-0 mb-0 position-relative">
                            <input type="text" class="form-control" placeholder="Appointment Date" formControlName="visitDate" readonly>
                            <!-- <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Date</label> -->
                          </div>
                        </td>
                        <td>
                          <div class="form-group-control w-100 m-0 mb-0 position-relative">
                            <input type="text" class="form-control" placeholder="Appointment Time" formControlName="visitTime" readonly>
                            <!-- <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Time</label> -->
                          </div>
                        </td>
                        <td>
                          <div class="form-group-control w-100 m-0 mb-0 position-relative">
                            <input type="text" class="form-control" placeholder="Attending Physician"  formControlName="attendingPhysician" readonly>
                            <!-- <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Attending Physician</label> -->
                          </div>
                        </td>
                        <td>
                          <div class="form-group-control w-100 m-0 mb-0 position-relative">
                            <input type="text" class="form-control" placeholder="Specialty"  formControlName="speciality" readonly>
                            <!-- <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Specialty</label> -->
                          </div>
                        </td>
                        <td>
                          <div class="form-group-control w-100 m-0 mb-0 position-relative">
                            <input type="text" class="form-control" placeholder="Appointment Status" formControlName="appointmentStatus" readonly>
                            <!-- <label class="position-absolute m-0 bg-white" style="z-index: 9999;">Appointment Status</label> -->
                          </div>
                        </td>
                      </tr>
                      </ng-container>
                      </ng-container>
                    </tbody>
                  </table> 
                </div>   
              </ng-container>
            </form>
          </div>
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-center">
        <div class="w-30 m-1 align-items-center">
          <button
            class="pl-border-radius-10 border-0 text-white d-flex justify-content-center align-items-center bg-danger w-100 p-2"
            (click)="onCancel()">Cancel</button>
        </div>
      </div>
    </div>
</ng-template>
<ng-template #PatientList>
  <div class="form-group-wrapper">
    <div class="form-group-main border-0">
      <div class="form-group p-3 m-0">
        <div class="form-group-control">
          <div class="container-fluid p-0 ">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-3">Please Specify which patient to be selected </h5>
              <div class="patient-zoom-icon rounded-circle mr-2 mb-3 cursor-pointer" >
                <img src="assets/images/popup-close.svg" (click)="onHidePopup()">
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="appointment-content mb-3">
                  <!-- Patient List -->
                  <div class="patient-list">
                    <ul class="overflow-auto m-0 p-0">
                      <li *ngFor="let item of searchPatientData" (click)="onChange(item)">
                        {{ item.patient.medicalRecordNumber + ' - ' + item.patient.firstName + ' ' + item.patient.secondName + ' ' + item.patient.thirdName + ' ' +item.patient.familyName  }}
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>