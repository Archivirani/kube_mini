<div class="patient-panel p-3 bg-white pl-border-radius-10">
    <div class="patient-panel-wrapper pl-border-radius-10">
        <div class="table-responsive">
        <div class="layout-table layout-patient-table overflow-auto">
            <table class="w-100">
            <thead class="sticky-top">
                <tr>
                <th>MRN</th>
                <th>Patient Name</th>
                <th>Gender</th>
                <th>Date of birth</th>
                <th>Admitted On</th>
                <th>Admitted At</th>
                <th>Visit Status</th>
                <th>Floor</th>
                <th>Room/Bed</th>
                <th>Attending physician</th>
                <th>Specialty</th>
                <th class="text-center" *ngIf="UserTypeId !== 12">Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td colspan="9" class="text-center available-patient py-4">
                        Patient does not exist,
                        <a href>Do you want to register a new patient?</a></td>
                    </tr> -->
                <!-- <tr > -->
                <tr *ngFor="let data of checkInPatient; let i = index">
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div border-0">
                    {{ data.patientAdmission?.patient.medicalRecordNumber }}
                    </div>
                </td>
                <td
                    (click)="patientDetails(data)"
                    class="align-middle cursor-pointer"
                >
                    <div class="d-flex align-items-center table-inner-div border-0">
                    {{ data.patientAdmission.patient.firstName }}
                    {{ data.patientAdmission.patient.secondName }}
                    {{ data.patientAdmission.patient.thirdName }}
                    {{ data.patientAdmission.patient.familyName }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.patient.gender }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{
                        data.patientAdmission.patient.dateOfBirth
                        | date : "dd-MM-yyyy"
                    }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.admDate | date : "dd-MM-yyyy" }}
                    </div>
                </td>
                <td>
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.admTime | date : "hh:mm a" }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data?.patientAdmission?.visitStatus?.status }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.floors?.floornumber }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.rooms?.roomNumber }}/{{ data.bads?.badNumber }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.attendDoctor.doctor_Name }}
                    </div >
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{
                        data?.patientAdmission?.doctors?.specialities
                        ?.speciality_desc || data?.specialities?.speciality_desc
                    }}
                    </div>
                </td>
  
                <td *ngIf="UserTypeId !== 12">
                    <ul
                    class="d-flex align-items-center justify-content-center list-unstyled Patients-ul table-inner-div mb-0"
                    >
                    <li>
                        <img
                        src="assets/images/print.svg"
                        class="mx-2 cursor-pointer"
                        width="20"
                        (click)="printPatient(data)"
                        />
                        <div class="tooltip">Print</div>
                    </li>
                    <li
                        [popover]="popTemplate"
                        [outsideClick]="true"
                        placement="left"
                    >
                        <img
                        src="assets/images/edit.svg"
                        class="mx-2 cursor-pointer"
                        (click)="getPatientData(data)"
                        /><a><div class="tooltip">Edit</div></a>
                    </li>
                    <li>
                        <img
                        src="assets/images/cancel-icon.svg"
                        class="mx-2 cursor-pointer"
                        (click)="onDeleteRecord(data)"
                        />
                        <div class="tooltip">Cancel</div>
                    </li>
                    <li (click)="onAdmitPopup(data)">
                        <img
                        src="assets/img/file/Inpatient_Admissio.svg"
                        class="mx-2 cursor-pointer transfer-blue"
                        />
                        <div class="tooltip">Admit Patient</div>
                    </li>
                    </ul>
                </td>
                </tr>
                <tr *ngFor="let data of checkOutPatient; let i = index">
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div border-0">
                    {{ data.patientAdmission.patient.medicalRecordNumber }}
                    </div>
                </td>
                <td
                    (click)="patientDetails(data)"
                    class="align-middle cursor-pointer"
                >
                    <div class="d-flex align-items-center table-inner-div border-0">
                    {{ data.patientAdmission.patient.firstName }}
                    {{ data.patientAdmission.patient.familyName }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.patient.gender }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{
                        data.patientAdmission.patient.dateOfBirth
                        | date : "dd-MM-yyyy"
                    }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.admDate | date : "dd-MM-yyyy" }}
                    </div>
                </td>
                <td>
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.admTime | date : "hh:mm a" }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data?.patientAdmission?.visitStatus?.status }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.floors?.floornumber }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.rooms?.roomNumber }}/{{ data.bads?.badNumber }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{ data.patientAdmission.attendDoctor.doctor_Name }}
                    </div>
                </td>
                <td (click)="patientDetails(data)">
                    <div class="d-flex align-items-center table-inner-div">
                    {{
                        data?.patientAdmission?.doctors?.specialities
                        ?.speciality_desc
                    }}
                    </div>
                </td>
  
                <td *ngIf="UserTypeId !== 12">
                    <ul
                    class="d-flex align-items-center justify-content-center list-unstyled Patients-ul table-inner-div mb-0"
                    >
                    <li>
                        <img
                        src="assets/images/print.svg"
                        class="mx-2 cursor-pointer"
                        width="20"
                        (click)="printPatient(data)"
                        />
                        <div class="tooltip">Print</div>
                    </li>
                    <li
                        [popover]="popTemplate"
                        [outsideClick]="true"
                        placement="left"
                    >
                        <img
                        src="assets/images/edit.svg"
                        class="mx-2 cursor-pointer"
                        (click)="getPatientData(data)"
                        /><a><div class="tooltip">Edit</div></a>
                    </li>
                    <li>
                        <img
                        src="assets/images/cancel-icon.svg"
                        class="mx-2 cursor-pointer"
                        (click)="onDeleteRecord(data)"
                        />
                        <div class="tooltip">Cancel</div>
                    </li>
                    <li (click)="onAdmitPopup(data)">
                        <img
                        src="assets/img/file/Inpatient_Admissio.svg"
                        class="mx-2 cursor-pointer transfer-blue"
                        />
                        <div class="tooltip">Admit Patient</div>
                    </li>
                    </ul>
                </td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </div>
    </div>
    <ng-template #popTemplate>
    <div class="row">
        <ng-select
        placeholder="Status"
        class="border-0 font-numbar lab-select"
        style="width: 150px"
        (change)="updateStatus()"
        [(ngModel)]="visitStatusId"
        >
        <ng-option *ngFor="let item of visitStatus" [value]="item.id">{{
            item.status
        }}</ng-option>
        <ng-option></ng-option>
        </ng-select>
    </div>
    </ng-template>
    <ng-template #admitPatientEventlist>
    <div class="site-panel-register p-3">
        <div class="site-register-wrapper">
        <form [formGroup]="emergencyPatientForm">
            <div class="form-group-wrapper form-group-main-div">
            <div class="form-group-main">
                <div class="addmission-main-wrapper">
                <div class="form-title">
                    <h2 class="pl-border-radius-0 bg-sky-blue">Admission Data</h2>
                </div>
                <div class="addmission-wrap py-3">
                    <div class="container-fluid">
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <input
                            type="text"
                            class="form-control"
                            placeholder="MRN"
                            formControlName="patientId"
                            #mrn
                            (ngModelChange)="getPatient(mrn.value)"
                            />
                            <label class="position-absolute m-0 bg-white"
                            >MRN</label
                            >
                        </div>
                        </div>
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <input
                            type="text"
                            name
                            id
                            class="f-size-field form-control"
                            placeholder="Patient Name"
                            formControlName="patientName"
                            readonly
                            />
                            <label class="position-absolute m-0 bg-white"
                            >Patient Name</label
                            >
                        </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                        <div class="form-group-control">
                            <ng-select
                            placeholder="Case Type"
                            formControlName="caseType"
                            class="border-0 font-numbar lab-select"
                            (change)="setErPatientValue($event)"
                            >
                            <ng-option
                                *ngFor="let item of caseTypelist"
                                [value]="item.id"
                                >{{ item.caseName }}</ng-option
                            >
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Case Type</label
                            >
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('caseType').invalid &&
                                emergencyPatientForm.get('caseType').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('caseType').errors
                                    .required
                                "
                            >
                                Case Type is required
                            </span>
                            </ng-container>
                            <ng-container
                            *ngIf="
                                emergencyPatientForm
                                .get('caseType')
                                .hasError('invalidCaseType')
                            "
                            >
                            <span class="error-message">
                                Please choose a valid type
                            </span>
                            </ng-container>
                            <!-- <ng-container
                                                        *ngIf="emergencyPatientForm.controls['caseType'].value == 3 ">
                                                        <span class="error-message">
                                                            Please choose a valid
                                                            type
                                                        </span>
                                                    </ng-container> -->
                        </div>
                        </div>
                        <div class="col-6">
                        <ng-select
                            placeholder="Addmission Type"
                            formControlName="admissionType"
                            class="border-0 font-numbar lab-select"
                            [readonly]="
                            emergencyPatientForm.controls['caseType'].value == 3
                            "
                        >
                            <ng-option
                            *ngFor="let item of admissionTypeslist"
                            [value]="item.id"
                            >{{ item.admissionTypeName }}</ng-option
                            >
                        </ng-select>
                        <label class="position-absolute m-0 bg-white"
                            >Admission Type
                        </label>
                        <ng-container
                            *ngIf="
                            emergencyPatientForm.get('admissionType').invalid &&
                            emergencyPatientForm.get('admissionType').touched
                            "
                        >
                            <span
                            class="error-message"
                            *ngIf="
                                emergencyPatientForm.get('admissionType').errors
                                .required
                            "
                            >
                            Admission Type is required
                            </span>
                        </ng-container>
                        <ng-container>
                            <span
                            class="error-message"
                            *ngIf="
                                emergencyPatientForm.controls['caseType'].value ==
                                3 &&
                                emergencyPatientForm.controls['admissionType']
                                .value != 4 &&
                                emergencyPatientForm.controls['admissionType']
                                .value !== ''
                            "
                            >
                            Admission Type is required
                            </span>
                        </ng-container>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <input
                            type="text"
                            class="form-control"
                            placeholder="Admission Reason"
                            formControlName="admReason"
                            />
                            <label class="position-absolute m-0 bg-white"
                            >Admission Reason</label
                            >
                        </div>
                        </div>
                        <div class="col-6">
                        <div
                            class="form-group mb-0 d-flex p-0 col-12 align-items-center"
                        >
                            <div
                            class="form-group-control m-0 px-0 position-relative col-11"
                            >
                            <input
                                type="text"
                                class="form-control"
                                placeholder="Comment"
                                formControlName="comment"
                            />
                            <label class="position-absolute m-0 bg-white"
                                >Comment</label
                            >
                            </div>
                            <div class="comment-main px-0 pl-1">
                            <ul class="comment-ul pl-0 mb-0">
                                <li class="comment-li">
                                <a href="#">
                                    <img
                                    src="../../../assets/images/mdi--file-edit-outline.svg"
                                    />
                                </a>
                                </li>
                            </ul>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <input
                            type="text"
                            class="form-control"
                            [bsConfig]="{
                                showWeekNumbers: false,
                                dateInputFormat: 'DD-MM-YYYY'
                            }"
                            bsDatepicker
                            placeholder="Admitted On"
                            formControlName="admDate"
                            />
                            <label class="position-absolute m-0 bg-white"
                            >Admitted On</label
                            >
                        </div>
                        </div>
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 col-12 position-relative"
                        >
                            <input
                            type="text"
                            class="form-control"
                            [bsConfig]="{
                                showWeekNumbers: false,
                                withTimepicker: true,
                                dateInputFormat: 'HH:mm:ss'
                            }"
                            bsDatepicker
                            placeholder="Admitted At"
                            formControlName="admTime"
                            />
                            <label class="position-absolute m-0 bg-white"
                            >Admitted At</label
                            >
                        </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <ng-select
                            placeholder="AdmissionStatus"
                            class="border-0 font-numbar lab-select"
                            formControlName="status"
                            [readonly]="
                                emergencyPatientForm.controls['caseType'].value == 3
                            "
                            >
                            <ng-option
                                *ngFor="let item of admissionStatus"
                                [value]="item.id"
                                >{{ item.status }}</ng-option
                            >
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Admission Status
                            </label>
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('status').invalid &&
                                emergencyPatientForm.get('status').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('status').errors.required
                                "
                            >
                                Admission Status is required
                            </span>
                            </ng-container>
                        </div>
                        </div>
                        <div class="col-6">
                        <div class="d-flex mb-0 col-12 px-0 align-items-center">
                            <div
                            class="form-group-control m-0 px-0 position-relative col-10 pr-2"
                            >
                            <input
                                type="number"
                                name
                                id
                                class="f-size-field form-control"
                                placeholder="Estimeted length Of Staty"
                                formControlName="estLeght"
                            />
                            <label class="position-absolute m-0 bg-white"
                                >Estimated Length of Staty</label
                            >
                            </div>
                            <div class="emargency-div m-0 px-0 w-100">
                            <p class="mb-0 px-0">Day(s)</p>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
                </div>
                <div class="organization-main-wrapper mb-4">
                <div class="form-title">
                    <h2 class="pl-border-radius-0 bg-sky-blue">
                    Organizational Assignment
                    </h2>
                </div>
                <div class="py-3 addmission-wrap">
                    <div class="container-fluid">
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <ng-select
                            placeholder="Specialty"
                            formControlName="speciality_Code"
                            class="border-0 font-numbar lab-select"
                            [readonly]="
                                emergencyPatientForm.controls['caseType'].value == 3
                            "
                            (change)="getAttendingPhysician($event)"
                            >
                            <ng-option
                                *ngFor="let item of getSpecialitylist"
                                [value]="item.speciality_Code"
                                >{{ item.speciality_desc }}
                            </ng-option>
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Specialty</label
                            >
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('speciality_Code')
                                .invalid &&
                                emergencyPatientForm.get('speciality_Code').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('speciality_Code').errors
                                    .required
                                "
                            >
                                Specialty is required
                            </span>
                            </ng-container>
                        </div>
                        </div>
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <ng-select
                            placeholder="Floor"
                            class="border-0 font-numbar lab-select"
                            formControlName="floorId"
                            (change)="getSelectgetRooms($event)"
                            [readonly]="
                                emergencyPatientForm.controls['caseType'].value == 3
                            "
                            >
                            <ng-option
                                *ngFor="let item of getFloorslist"
                                [value]="item.id"
                                >{{
                                item.floornumber + "-" + item.floorName
                                }}</ng-option
                            >
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Floor
                            </label>
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('floorId').invalid &&
                                emergencyPatientForm.get('floorId').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('floorId').errors
                                    .required
                                "
                            >
                                floor is required
                            </span>
                            </ng-container>
                        </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <ng-select
                            placeholder="Room"
                            class="border-0 font-numbar lab-select"
                            formControlName="roomId"
                            (change)="getSelectgetBads($event)"
                            >
                            <ng-option
                                *ngFor="let item of getRoomslist"
                                [value]="item.id"
                                >{{
                                item.roomNumber + "-" + item.roomName
                                }}</ng-option
                            >
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Room
                            </label>
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('roomId').invalid &&
                                emergencyPatientForm.get('roomId').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('roomId').errors.required
                                "
                            >
                                Room is required
                            </span>
                            </ng-container>
                        </div>
                        </div>
                        <div class="col-6">
                        <div
                            class="form-group-control m-0 px-0 position-relative col-12"
                        >
                            <ng-select
                            placeholder="Bed"
                            class="border-0 font-numbar lab-select"
                            formControlName="badId"
                            >
                            <ng-option
                                *ngFor="let item of getBadlist"
                                [value]="item.id"
                                >{{
                                item.badNumber + "-" + item.badName
                                }}</ng-option
                            >
                            </ng-select>
                            <label class="position-absolute m-0 bg-white"
                            >Bed</label
                            >
                            <ng-container
                            *ngIf="
                                emergencyPatientForm.get('badId').invalid &&
                                emergencyPatientForm.get('badId').touched
                            "
                            >
                            <span
                                class="error-message"
                                *ngIf="
                                emergencyPatientForm.get('badId').errors.required
                                "
                            >
                                Bed is required
                            </span>
                            </ng-container>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="form-group-main">
                <div class="form-title">
                <h2 class="pl-border-radius-0 bg-sky-blue">
                    Attending physicians
                </h2>
                </div>
                <div class="py-3 addmission-wrap">
                <div class="container-fluid">
                    <div class="row mb-3">
                    <div class="col-6">
                        <div
                        class="form-group-control m-0 px-0 position-relative col-12"
                        >
                        <ng-select
                            placeholder="Attending Doctor"
                            class="border-0 font-numbar lab-select"
                            formControlName="attendingPhysician"
                        >
                            <ng-option
                            *ngFor="let item of getPhysicianlist"
                            [value]="item.doctor_Code"
                            >{{ item.doctor_Name }}
                            </ng-option>
                        </ng-select>
                        <label class="position-absolute m-0 bg-white"
                            >Attending Physician</label
                        >
                        <ng-container
                            *ngIf="
                            emergencyPatientForm.get('attendingPhysician')
                                .invalid &&
                            emergencyPatientForm.get('attendingPhysician').touched
                            "
                        >
                            <span
                            class="error-message"
                            *ngIf="
                                emergencyPatientForm.get('attendingPhysician')
                                .errors.required
                            "
                            >
                            Attending Physician is required
                            </span>
                        </ng-container>
                        </div>
                    </div>
                    <div class="col-6">
                        <div
                        class="form-group-control m-0 px-0 pr-2 position-relative col-12"
                        >
                        <ng-select
                            placeholder="Admitted Physician"
                            class="border-0 font-numbar lab-select"
                            formControlName="admittedPhysician"
                        >
                            <ng-option
                            *ngFor="let item of getPhysicianlist"
                            [value]="item.doctor_Code"
                            >{{ item.doctor_Name }}
                            </ng-option>
                        </ng-select>
                        <label class="position-absolute m-0 bg-white"
                            >Admitting Physician</label
                        >
                        </div>
                    </div>
                    </div>
                </div>
                </div>
            </div>
            <div
                class="action-buttons d-flex align-items-center justify-content-center my-3"
            >
                <div class="button-group mx-2" (click)="onSave()">
                <button
                    type="submit"
                    class="d-flex align-items-center pl-border-radius-10 text-white p-2 px-3 text-nowrap default-btn"
                >
                    Save
                </button>
                </div>
                <div class="button-group mx-2">
                <button
                    class="d-flex align-items-center pl-border-radius-10 text-white p-2 px-3 text-nowrap cancel-btn"
                    (click)="onCancel()"
                >
                    Cancel
                </button>
                </div>
            </div>
            </div>
        </form>
        </div>
    </div>
    </ng-template>
  
    <div *ngIf="isPrintClicked">
        <div class="request-popup-details" style="border-radius: 20px; height: 80% ;z-index: -11; position: relative;opacity: 0;"> 
        <div class="col-wrapper" style="border-radius: 20px">
        <div
            class="d-flex align-items-center justify-content-between p-3 bg-lighter-gray border-top-0 border-left-0 border-right-0"
        >
            <div class="d-flex align-items-center">
            <h3 class="main-title m-0 ml-4 pl-3">Patient Sticker</h3>
            </div>
            <div
            class="patient-zoom-icon rounded-circle d-flex align-items-center justify-content-center mr-2 cursor-pointer"
            >
            <img src="assets/images/popup-close.svg" (click)="closePopup()" />
            </div>
        </div>
        <div
            id="printPatients"
            class="border-0 pb-0"            
        >
            <div class="d-flex align-items-center">
            <div class="main-print-wrap mx-3" style="width: fit-content">
                <div class="d-flex flex-nowrap align-items-center my-2">
                <h4
                    class="mb-0 mr-2"
                    style="
                    color: #000000;
                    font-size: 50px;
                    font-weight: 600;
                    line-height: 1.25;
                    "
                >
                    Name:
                </h4>
                <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{ patientPrintDetails.patientAdmission.patient.firstName }}
                    {{ patientPrintDetails.patientAdmission.patient.secondName }}
                    {{ patientPrintDetails.patientAdmission.patient.thirdName }}
                    {{ patientPrintDetails.patientAdmission.patient.familyName }}
                </p>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                        white-space: nowrap;
                    "
                    >
                    MRN:
                    </h4>
                    <p class="mb-0" style=" font-size: 50px;">
                    {{
                        patientPrintDetails.patientAdmission.patient
                        .medicalRecordNumber
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                        white-space: nowrap;
                    "
                    >
                    Case No:
                    </h4>
                    <p class="mb-0" style=" font-size: 50px;">{{ patientPrintDetails.visitId }}</p>
                </div>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    DOB:
                    </h4>
                    <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{
                        patientPrintDetails.patientAdmission.patient.dateOfBirth
                        | date : "dd/MM/yyyy"
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center my-2">
                    <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    Age:
                    </h4>
                    <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{
                        onAgeTransformation(
                        patientPrintDetails.patientAdmission.patient.dateOfBirth
                        )
                    }}
                    </p>
                </div>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                    color: #000000;
                    font-size: 50px;
                    font-weight: 600;
                    line-height: 1.25;
                    "
                >
                    Attending Physician:
                </h4>
                <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{
                    patientPrintDetails.patientAdmission.attendDoctor.doctor_Name
                    }}
                </p>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    DOA:
                    </h4>
                    <p class="text-nowrap mb-0" style="font-size: 50px;">
                    {{
                        patientPrintDetails.patientAdmission.admDate
                        | date : "dd-MM-yyyy"
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center my-2">
                    <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                        color: #000000;
                        font-size: 50px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    Time:
                    </h4>
                    <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{
                        patientPrintDetails.patientAdmission.admTime
                        | date : "hh:mm a"
                    }}
                    </p>
                </div>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <h4
                    class="mb-0 mr-2 text-nowrap"
                    style="
                    color: #000000;
                    font-size: 50px;
                    font-weight: 600;
                    "
                >
                    Location:
                </h4>
                <p class="mb-0 text-nowrap" style=" font-size: 50px;">
                    {{ patientPrintDetails.floors?.floorName }} /
                    {{ patientPrintDetails.rooms?.roomName }}
                </p>
                </div>
            </div>
            <ngx-barcode
                [bc-value]="barcodeMRN"
                [bc-display-value]="false"
               class="emergency-barcode m-3"
            ></ngx-barcode>
            </div>
        </div>
        </div>
    </div>
    </div>
  
    <ng-template #printPatientDetails>
    <div class="request-popup-details" style="border-radius: 20px">
        <div class="col-wrapper" style="border-radius: 20px">
        <div
            class="d-flex align-items-center justify-content-between p-3 bg-lighter-gray border-top-0 border-left-0 border-right-0"
        >
            <div class="d-flex align-items-center">
            <h3 class="main-title m-0 ml-4 pl-3">Patient Sticker</h3>
            </div>
            <div
            class="patient-zoom-icon rounded-circle d-flex align-items-center justify-content-center mr-2 cursor-pointer"
            >
            <img src="assets/images/popup-close.svg" (click)="closePopup()" />
            </div>
        </div>
        <div style="padding: 20px 30px; border-bottom: 1px solid #ccc">
            <div class="d-flex">
            <ngx-barcode
                [bc-value]="barcodeMRN"
                [bc-display-value]="false"
                style="position: relative; left: 15px"
                class="barcode-print"
            ></ngx-barcode>
            <div class="main-print-wrap">
                <div class="d-flex align-items-center my-2">
                <h4
                    class="mb-0 mr-2"
                    style="
                    color: #000000;
                    font-size: 14px;
                    font-weight: 600;
                    line-height: 1.25;
                    "
                >
                    Name:
                </h4>
                <p class="mb-0">
                    {{ patientPrintDetails.patientAdmission.patient.firstName }}
                    {{ patientPrintDetails.patientAdmission.patient.secondName }}
                    {{ patientPrintDetails.patientAdmission.patient.thirdName }}
                    {{ patientPrintDetails.patientAdmission.patient.familyName }}
                </p>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    MRN:
                    </h4>
                    <p class="mb-0">
                    {{
                        patientPrintDetails.patientAdmission.patient
                        .medicalRecordNumber
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    Case No:
                    </h4>
                    <p class="mb-0">{{ patientPrintDetails.visitId }}</p>
                </div>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    DOB:
                    </h4>
                    <p class="mb-0">
                    {{
                        patientPrintDetails.patientAdmission.patient.dateOfBirth
                        | date : "dd/MM/yyyy"
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center my-2">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    Age:
                    </h4>
                    <p class="mb-0">
                    {{
                        onAgeTransformation(
                        patientPrintDetails.patientAdmission.patient.dateOfBirth
                        )
                    }}
                    </p>
                </div>
                </div>
                <div class="d-flex align-items-center my-2">
                <h4
                    class="mb-0 mr-2"
                    style="
                    color: #000000;
                    font-size: 14px;
                    font-weight: 600;
                    line-height: 1.25;
                    "
                >
                    Attending Physician:
                </h4>
                <p class="mb-0">
                    {{
                    patientPrintDetails.patientAdmission.attendDoctor.doctor_Name
                    }}
                </p>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <div class="d-flex align-items-center mr-3">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    DOA:
                    </h4>
                    <p class="mb-0">
                    {{
                        patientPrintDetails.patientAdmission.admDate
                        | date : "dd-MM-yyyy"
                    }}
                    </p>
                </div>
                <div class="d-flex align-items-center my-2">
                    <h4
                    class="mb-0 mr-2"
                    style="
                        color: #000000;
                        font-size: 15px;
                        font-weight: 600;
                        line-height: 1.25;
                    "
                    >
                    Time:
                    </h4>
                    <p class="mb-0">
                    {{
                        patientPrintDetails.patientAdmission.admTime
                        | date : "hh:mm a"
                    }}
                    </p>
                </div>
                </div>
  
                <div class="d-flex align-items-center my-2">
                <h4
                    class="mb-0 mr-2"
                    style="
                    color: #000000;
                    font-size: 15px;
                    font-weight: 600;
                    line-height: 1.25;
                    "
                >
                    Location:
                </h4>
                <p class="mb-0">
                    {{ patientPrintDetails.floors?.floorName }} /
                    {{ patientPrintDetails.rooms?.roomName }}
                </p>
                </div>
            </div>
            </div>
        </div>
        <div
            class="w-100 d-flex justify-content-between align-items-center px-3 py-3"
            style="background-color: white"
        >
            <button
            class="pl-border-radius-10 border-0 text-white d-flex justify-content-center bg-dark-blue align-items-center w-100 p-2"
            (click)="printErPatientData()"
            >
            Print
            </button>
        </div>
        </div>
    </div>
    </ng-template>
  
    <ng-template #filterPopup>
    <div class="bg-white p-3 pl-border-radius-10 book-appointment">
        <div class="d-flex justify-content-between align-items-center">
        <h3 class="m-0 px-2">Filter ER Patients</h3>
        </div>
        <div class="form-group-wrapper">
        <div class="form-group-main d-flex pt-3 border-0">
            <div class="form-group m-0 p-0 w-100">
            <div class="d-flex justify-content-between">
                <div
                class="form-group-control w-100 m-0 mb-3 px-2 position-relative"
                >
                <input
                    type="text"
                    class="form-control"
                    placeholder="Date From"
                    [bsConfig]="{
                    showWeekNumbers: false,
                    dateInputFormat: 'DD-MM-YYYY'
                    }"
                    bsDatepicker
                    [(ngModel)]="startDate"
                />
                <label
                    class="position-absolute m-0 bg-white"
                    style="z-index: 9999"
                    >Date From</label
                >
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <div
                class="form-group-control w-100 m-0 mb-3 px-2 position-relative"
                >
                <input
                    type="text"
                    class="form-control"
                    placeholder="Date To"
                    [bsConfig]="{
                    showWeekNumbers: false,
                    dateInputFormat: 'DD-MM-YYYY'
                    }"
                    bsDatepicker
                    [(ngModel)]="endDate"
                />
                <label
                    class="position-absolute m-0 bg-white"
                    style="z-index: 9999"
                    >Date To</label
                >
                </div>
            </div>
            </div>
        </div>
        </div>
        <div class="d-flex justify-content-center align-items-center">
        <div class="w-20 m-1">
            <button
            class="pl-border-radius-10 border-0 text-white d-flex justify-content-center bg-dark-blue align-items-center w-100 p-2"
            (click)="filterData()"
            >
            Filter
            </button>
        </div>
        <div class="w-20 m-1">
            <button
            class="pl-border-radius-10 border-0 text-white d-flex justify-content-center bg-danger align-items-center w-100 p-2"
            (click)="onCancel()"
            >
            Cancel
            </button>
        </div>
        </div>
    </div>
    </ng-template>
  
    <admitpatient-popup
    #admitpatientPopup
    (sendOnload)="onload(this.selectedDate)"
    ></admitpatient-popup>
  